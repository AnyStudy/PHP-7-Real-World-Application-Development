# 第二章: 使用 PHP 7 高性能特性

在这一章中，我们将讨论和理解 PHP 5和 PHP 7之间的语法差异，特别是以下几点：

* 了解抽象语法树
* 理解句法分析中的差异
* 了解 `foreach()` 处理方式的差异
* 使用PHP 7增强功能来提高性能
* 遍历海量文件
* 将电子表格上传到数据库
* 递归目录迭代器

## 引言

在本章中，我们将直接进入PHP 7，介绍利用新的高性能特性的示例。 但是，首先，我们将提供一系列较小的示例，这些示例用来说明PHP 7在处理参数解析，语法，`foreach()` 循环和其他增强功能方面的差异。 在深入本章之前，让我们讨论PHP 5和PHP 7之间的一些基本区别。

PHP 7引入了一个称为**抽象语法树**\(**AST**\)的新层，该层有效地将解析过程与伪编译过程解耦。 尽管新层对性能几乎没有影响，但是却为语言提供了新的语法统一性，这在以前是不可能的。

AST 的另一个好处是取消引用的过程。 简单地说，取消引用是指能够立即从对象获取属性或运行对象的方法，立即访问数组元素并立即执行回调的能力。 在PHP 5中，这种支持是不一致和不完整的。 例如，要执行回调，通常首先需要将回调或匿名函数分配给变量，然后再执行它。 在PHP 7中，您可以立即执行它。



