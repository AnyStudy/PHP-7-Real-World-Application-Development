# 使用内置的 PHP web 服务器

除了单元测试和直接从命令行运行 PHP 之外，显而易见的测试应用程序的方法是使用 web 服务器。对于长期项目，为 web 服务器开发一个虚拟主机定义是非常有益的，它最接近于客户使用的虚拟主机定义。为各种 web 服务器（即 Apache、 NGINX 等）创建这样的定义超出了本书的范围。另一个快速、易于使用的替代方案（我们在这里有空间讨论的）是使用内置的 PHP 7 web 服务器。

## 怎么做...

1.要激活 PHP web 服务器，首先要改变当前所在目录，进入到您的代码文件夹。

2.然后你需要提供主机名或IP地址，以及可选的端口。下面是一个例子，你可以用它来运行本书提供的案例。

```bash
cd /path/to/recipes
php -S localhost:8080
```

 您将在屏幕上看到如下所示的输出：

![](../../.gitbook/assets/image%20%283%29.png)

3.随着内置 Web 服务器继续为请求提供服务，您还将看到访问信息，HTTP状态代码和请求信息。

4.如果需要将 Web 服务器文档根目录设置为当前目录以外的目录，则可以使用 **-t** 标志。 该标志之后必须跟随有效的目录路径。 内置的 Web 服务器会将这个目录视为 Web 文档的根目录，出于安全原因，这很有用。 出于安全原因，某些框架（例如Zend Framework）要求Web文档根目录与实际源代码所在的位置不同。

这是使用 **-t** 标志的示例：

```bash
php -S localhost:8080 -t source/chapter01
```

这是示例的输出：

![](../../.gitbook/assets/image%20%285%29.png)

